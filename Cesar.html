<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cifrador de Cifrado Cesar</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <h1>Cifrado Cesar 5</h1>

        <input id="input" type="text" placeholder="Escribe aqui para cifrar y decifrar">

        <button type="button" id="btnCifrar" >Cifrar</button>
        <button type="button" id="btnDescifrar">Descifrar</button>

    <textarea id="resultadoTexto" placeholder="Aquí aparecerá el resultado..." rows="5" cols="30"></textarea>
	
	<button id="copybtn">Copiar</button>
    

<!-- ===================================================================== -->

    <script>

let textareaCesar = document.getElementById("resultadoTexto")

let btnCifrar = document.getElementById("btnCifrar")
let btnDescifrar = document.getElementById("btnDescifrar")

let input = document.getElementById("input")


const abecedario = [

  "A", "B", "C", "D", "E", "F", "G",
  "H", "I", "J", "K", "L", "M", "N",
  "Ñ", "O", "P", "Q", "R", "S", "T",
  "U", "V", "W", "X", "Y", "Z"

];


btnCifrar.addEventListener("click" , cifrar);


	function cifrar(){

		let resultado = []

		let text = input.value.toUpperCase();

		console.log("CIFRANDO: " + text);

		let array = text.split("")

		for(let i = 0 ; i < array.length ; i++){

			let el = array[i]

			if (el == "V"  || el == "W" || el == "X" || el == "Y" || el == "Z"){

				let newIndex = (abecedario.indexOf(el) + 5) % abecedario.length;

				resultado.push(abecedario[newIndex])

			}

			else if(!abecedario.includes(el))
					resultado.push(el)
				
			else {
				
				resultado.push(abecedario[abecedario.indexOf(el) + 5])

			}
		}

		textareaCesar.value = resultado.join("")

		console.log(resultado.join(""));
		
		
		
	}


btnDescifrar.addEventListener("click" , descifrar);

	function descifrar(){


		
		let resultado = []

		let text = input.value.toUpperCase();

		console.log("DESCIFRANDO: " + text);

		let array = text.split("")

		for(let i = 0 ; i < array.length ; i++){

			let el = array[i]

			if (el == "A"  || el == "B" || el == "C" || el == "D" || el == "E"){

				let newIndex = ((abecedario.indexOf(el) - 5) + abecedario.length) % abecedario.length;

				resultado.push(abecedario[newIndex])

			}

			else if(!abecedario.includes(el))
					resultado.push(el)

			else {
				
				resultado.push(abecedario[abecedario.indexOf(el) - 5])

			}
		}

		textareaCesar.value = resultado.join("")

		console.log(resultado.join(""));
		
		
	}

const copybtn = document.getElementById("copybtn");

	copybtn.addEventListener("click" , copiar)

	function copiar (){

		const texto = textareaCesar.value
		 navigator.clipboard.writeText(texto)

	}
		
    </script>

</body>
</html>